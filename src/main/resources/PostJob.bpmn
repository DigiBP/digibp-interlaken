<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1waxmbm" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="3.0.0-beta.2">
  <bpmn:process id="PostJobToFB" isExecutable="true">
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:outgoing>SequenceFlow_1o71q2g</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:userTask id="UserTask_0mn08lt" name="Check Existing Job">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="ExistingJob" label="Does the job already exist?" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1o71q2g</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0gk00cn</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="UserTask_0sx5d6z" name="Choose job description">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="JobTitle" label="Job title of Job to be posted" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1oar2gf</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1c1g4mq</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0af6hni" name="Existing Job?">
      <bpmn:incoming>SequenceFlow_0gk00cn</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1oar2gf</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0gloa4f</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="ServiceTask_1qyoy9u" name="Retrieve job descriptions">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">https://hook.integromat.com/fltu6m32t6tcf1f4nlv5b8q5gg6gk9sy</camunda:inputParameter>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="payload">
              <camunda:script scriptFormat="javascript">out = JSON.stringify({
        "JobTitle": JobTitle
});</camunda:script>
            </camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="JobTitle">
              <camunda:script scriptFormat="javascript">object = JSON.parse(response);
JobTitle = object.JobTitle;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="JobDescription">
              <camunda:script scriptFormat="javascript">object = JSON.parse(response);
JobDescription = object.JobDescription;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="MinEducation">
              <camunda:script scriptFormat="javascript">object = JSON.parse(response);
MinEducation = object.MinEducation;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="MinExperienceInYears">
              <camunda:script scriptFormat="javascript">object = JSON.parse(response);
MinExperienceInYears  = object.MinExperienceInYears;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="Skills">
              <camunda:script scriptFormat="javascript">object = JSON.parse(response);
Skills = object.Skills;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="ApplicationLink">
              <camunda:script scriptFormat="javascript">object = JSON.parse(response);
ApplicationLink = object.ApplicationLink;</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1c1g4mq</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1pjr2kh</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="UserTask_0s3bimq" name="Create job description&#10;">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="JobTitle" label="Job Title" type="string" />
          <camunda:formField id="JobDescription" label="Job Description" type="string" />
          <camunda:formField id="MinEducation" label="Minimum Education Requirement (Degree)" type="string" />
          <camunda:formField id="MinExperienceInYears" label="Experience in years" type="string" />
          <camunda:formField id="Skills" label="Expected Skills" type="string" />
          <camunda:formField id="ApplicationLink" label="Link to apply" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0gloa4f</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_06owvug</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0om8ad8">
      <bpmn:incoming>SequenceFlow_1pjr2kh</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_06owvug</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1wb2eqv</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0gk00cn" sourceRef="UserTask_0mn08lt" targetRef="ExclusiveGateway_0af6hni" />
    <bpmn:sequenceFlow id="SequenceFlow_1oar2gf" name="Yes" sourceRef="ExclusiveGateway_0af6hni" targetRef="UserTask_0sx5d6z">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${ExistingJob == "Yes"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1c1g4mq" sourceRef="UserTask_0sx5d6z" targetRef="ServiceTask_1qyoy9u" />
    <bpmn:sequenceFlow id="SequenceFlow_0gloa4f" name="No" sourceRef="ExclusiveGateway_0af6hni" targetRef="UserTask_0s3bimq">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${ExistingJob == "No"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1pjr2kh" sourceRef="ServiceTask_1qyoy9u" targetRef="ExclusiveGateway_0om8ad8" />
    <bpmn:sequenceFlow id="SequenceFlow_06owvug" sourceRef="UserTask_0s3bimq" targetRef="ExclusiveGateway_0om8ad8" />
    <bpmn:sequenceFlow id="SequenceFlow_1o71q2g" sourceRef="StartEvent_1" targetRef="UserTask_0mn08lt" />
    <bpmn:serviceTask id="ServiceTask_0rfmvpm" name="Post Job ">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">https://hook.integromat.com/my7lnlvgbvofyij8v3rcx94v40ljykfl</camunda:inputParameter>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:inputParameter name="payload">
              <camunda:script scriptFormat="javascript">out = JSON.stringify({
"JobTitle": JobTitle,
"JobDescription": JobDescription,
"MinEducation": MinEducation,
"MinExperienceInYears": 
 MinExperienceInYears,
"Skills": Skills,
"ApplicationLink": ApplicationLink
});</camunda:script>
            </camunda:inputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1s7nkzt</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1w1v45s</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="UserTask_1n808yk" name="Show success message">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="success" label="success" type="string" defaultValue="File is posted successfully to Facebook" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1w1v45s</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0wcqf98</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_1w1v45s" sourceRef="ServiceTask_0rfmvpm" targetRef="UserTask_1n808yk" />
    <bpmn:sequenceFlow id="SequenceFlow_1wb2eqv" sourceRef="ExclusiveGateway_0om8ad8" targetRef="Task_1s63l4x" />
    <bpmn:endEvent id="EndEvent_00nxf8a">
      <bpmn:incoming>SequenceFlow_0wcqf98</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0wcqf98" sourceRef="UserTask_1n808yk" targetRef="EndEvent_00nxf8a" />
    <bpmn:sequenceFlow id="SequenceFlow_1s7nkzt" sourceRef="Task_1s63l4x" targetRef="ServiceTask_0rfmvpm" />
    <bpmn:userTask id="Task_1s63l4x" name="Review Job Description and Post">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="JobTitle" label="Job Title" type="string" />
          <camunda:formField id="JobDescription" label="Job Description" type="string" />
          <camunda:formField id="MinEducation" label="Education" type="string" />
          <camunda:formField id="MinExperienceInYears" label="MinExperienceInYears" type="long" />
          <camunda:formField id="Skills" label="Skills" type="string" />
          <camunda:formField id="ApplicationLink" label="Application Link" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1wb2eqv</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1s7nkzt</bpmn:outgoing>
    </bpmn:userTask>
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="PostJobToFB">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="164" y="153" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0mn08lt_di" bpmnElement="UserTask_0mn08lt">
        <dc:Bounds x="286" y="131" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0sx5d6z_di" bpmnElement="UserTask_0sx5d6z">
        <dc:Bounds x="502" y="46" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0af6hni_di" bpmnElement="ExclusiveGateway_0af6hni" isMarkerVisible="true">
        <dc:Bounds x="410" y="146" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="468" y="142" width="66" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1qyoy9u_di" bpmnElement="ServiceTask_1qyoy9u">
        <dc:Bounds x="648" y="46" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0s3bimq_di" bpmnElement="UserTask_0s3bimq">
        <dc:Bounds x="603" y="178" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0om8ad8_di" bpmnElement="ExclusiveGateway_0om8ad8" isMarkerVisible="true">
        <dc:Bounds x="801" y="146" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0gk00cn_di" bpmnElement="SequenceFlow_0gk00cn">
        <di:waypoint x="386" y="171" />
        <di:waypoint x="410" y="171" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1oar2gf_di" bpmnElement="SequenceFlow_1oar2gf">
        <di:waypoint x="435" y="146" />
        <di:waypoint x="435" y="86" />
        <di:waypoint x="502" y="86" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="406" y="80" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1c1g4mq_di" bpmnElement="SequenceFlow_1c1g4mq">
        <di:waypoint x="602" y="86" />
        <di:waypoint x="648" y="86" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0gloa4f_di" bpmnElement="SequenceFlow_0gloa4f">
        <di:waypoint x="435" y="196" />
        <di:waypoint x="435" y="218" />
        <di:waypoint x="603" y="218" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="468" y="229" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1pjr2kh_di" bpmnElement="SequenceFlow_1pjr2kh">
        <di:waypoint x="748" y="86" />
        <di:waypoint x="826" y="86" />
        <di:waypoint x="826" y="146" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_06owvug_di" bpmnElement="SequenceFlow_06owvug">
        <di:waypoint x="703" y="218" />
        <di:waypoint x="826" y="218" />
        <di:waypoint x="826" y="196" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1o71q2g_di" bpmnElement="SequenceFlow_1o71q2g">
        <di:waypoint x="200" y="171" />
        <di:waypoint x="286" y="171" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0rfmvpm_di" bpmnElement="ServiceTask_0rfmvpm">
        <dc:Bounds x="1083" y="131" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_1n808yk_di" bpmnElement="UserTask_1n808yk">
        <dc:Bounds x="1263" y="131" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1w1v45s_di" bpmnElement="SequenceFlow_1w1v45s">
        <di:waypoint x="1183" y="171" />
        <di:waypoint x="1263" y="171" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1wb2eqv_di" bpmnElement="SequenceFlow_1wb2eqv">
        <di:waypoint x="851" y="171" />
        <di:waypoint x="897" y="171" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_00nxf8a_di" bpmnElement="EndEvent_00nxf8a">
        <dc:Bounds x="1405" y="153" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0wcqf98_di" bpmnElement="SequenceFlow_0wcqf98">
        <di:waypoint x="1363" y="171" />
        <di:waypoint x="1405" y="171" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1s7nkzt_di" bpmnElement="SequenceFlow_1s7nkzt">
        <di:waypoint x="997" y="171" />
        <di:waypoint x="1083" y="171" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_10gf7rh_di" bpmnElement="Task_1s63l4x">
        <dc:Bounds x="897" y="131" width="100" height="80" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
