<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_07apj8h" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="3.0.0-beta.2">
  <bpmn:process id="Test3_Evaluate" isExecutable="true">
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:outgoing>SequenceFlow_0r44fnm</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:exclusiveGateway id="ExclusiveGateway_15aknb9" name="Assessment passed">
      <bpmn:incoming>SequenceFlow_03t2nmz</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0gb95lm</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1n87ib4</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="EndEvent_1na6u4t">
      <bpmn:incoming>SequenceFlow_1oanq9c</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="ServiceTask_1vemc5a" name="Send Refusal Email">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">https://hook.integromat.com/2dacmck6p8plv8tpa96ntynoj35n3oe5</camunda:inputParameter>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="payload">
              <camunda:script scriptFormat="JavaScript">out = JSON.stringify({
"firstname": firstname,
"email": email
});</camunda:script>
            </camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1emvlbl</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1cdty3t</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="EndEvent_05cn7vy">
      <bpmn:incoming>SequenceFlow_1cdty3t</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:businessRuleTask id="BusinessRuleTask_1wi6425" name="Evaluate score and status" camunda:resultVariable="EvaluationPassed" camunda:decisionRef="EvaluateAssessment" camunda:mapDecisionResult="singleEntry">
      <bpmn:incoming>SequenceFlow_1au9qks</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_03t2nmz</bpmn:outgoing>
    </bpmn:businessRuleTask>
    <bpmn:serviceTask id="ServiceTask_0kolnnh" name="Update status to failed">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">https://hook.integromat.com/scdftk5kafhufd05rovsc06gfbneju2c</camunda:inputParameter>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="payload">
              <camunda:script scriptFormat="javascript">out = JSON.stringify({
"id": id,
 "status": 13
});</camunda:script>
            </camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1n87ib4</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1emvlbl</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="ServiceTask_19zdo6i" name="Update status to failed">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">https://hook.integromat.com/scdftk5kafhufd05rovsc06gfbneju2c</camunda:inputParameter>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="payload">
              <camunda:script scriptFormat="javascript">out = JSON.stringify({
"id": id,
 "status": 12
});</camunda:script>
            </camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0gb95lm</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1oanq9c</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_03t2nmz" sourceRef="BusinessRuleTask_1wi6425" targetRef="ExclusiveGateway_15aknb9" />
    <bpmn:sequenceFlow id="SequenceFlow_0gb95lm" name="Yes" sourceRef="ExclusiveGateway_15aknb9" targetRef="ServiceTask_19zdo6i">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${EvaluationPassed=="Yes"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1n87ib4" name="No" sourceRef="ExclusiveGateway_15aknb9" targetRef="ServiceTask_0kolnnh">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${EvaluationPassed=="No"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1oanq9c" sourceRef="ServiceTask_19zdo6i" targetRef="EndEvent_1na6u4t" />
    <bpmn:sequenceFlow id="SequenceFlow_1emvlbl" sourceRef="ServiceTask_0kolnnh" targetRef="ServiceTask_1vemc5a" />
    <bpmn:sequenceFlow id="SequenceFlow_1cdty3t" sourceRef="ServiceTask_1vemc5a" targetRef="EndEvent_05cn7vy" />
    <bpmn:sequenceFlow id="SequenceFlow_0r44fnm" sourceRef="StartEvent_1" targetRef="Task_1p2s2gc" />
    <bpmn:sequenceFlow id="SequenceFlow_1au9qks" sourceRef="Task_1p2s2gc" targetRef="BusinessRuleTask_1wi6425" />
    <bpmn:userTask id="Task_1p2s2gc" name="Manual input">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="id" label="ID" type="string" />
          <camunda:formField id="email" label="email" type="string" />
          <camunda:formField id="firstname" label="firstname" type="string" />
          <camunda:formField id="AssessmentScore" label="Assessment Score" type="string" />
          <camunda:formField id="Status" label="Status" type="string" />
        </camunda:formData>
        <camunda:inputOutput>
          <camunda:outputParameter name="Assessment2Passed" />
          <camunda:outputParameter name="Output_1smsrbn" />
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0r44fnm</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1au9qks</bpmn:outgoing>
    </bpmn:userTask>
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Test3_Evaluate">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="117" y="285" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_15aknb9_di" bpmnElement="ExclusiveGateway_15aknb9" isMarkerVisible="true">
        <dc:Bounds x="497" y="278" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="492" y="335" width="60" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1na6u4t_di" bpmnElement="EndEvent_1na6u4t">
        <dc:Bounds x="851" y="285" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1vemc5a_di" bpmnElement="ServiceTask_1vemc5a">
        <dc:Bounds x="609" y="81" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_05cn7vy_di" bpmnElement="EndEvent_05cn7vy">
        <dc:Bounds x="851" y="103" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BusinessRuleTask_1wi6425_di" bpmnElement="BusinessRuleTask_1wi6425">
        <dc:Bounds x="341" y="263" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0kolnnh_di" bpmnElement="ServiceTask_0kolnnh">
        <dc:Bounds x="462" y="81" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_19zdo6i_di" bpmnElement="ServiceTask_19zdo6i">
        <dc:Bounds x="694" y="263" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_03t2nmz_di" bpmnElement="SequenceFlow_03t2nmz">
        <di:waypoint x="441" y="303" />
        <di:waypoint x="497" y="303" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0gb95lm_di" bpmnElement="SequenceFlow_0gb95lm">
        <di:waypoint x="547" y="303" />
        <di:waypoint x="694" y="303" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="612.5" y="285" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1n87ib4_di" bpmnElement="SequenceFlow_1n87ib4">
        <di:waypoint x="522" y="278" />
        <di:waypoint x="522" y="161" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="530" y="217.5" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1oanq9c_di" bpmnElement="SequenceFlow_1oanq9c">
        <di:waypoint x="794" y="303" />
        <di:waypoint x="851" y="303" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1emvlbl_di" bpmnElement="SequenceFlow_1emvlbl">
        <di:waypoint x="562" y="121" />
        <di:waypoint x="609" y="121" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1cdty3t_di" bpmnElement="SequenceFlow_1cdty3t">
        <di:waypoint x="709" y="121" />
        <di:waypoint x="851" y="121" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0r44fnm_di" bpmnElement="SequenceFlow_0r44fnm">
        <di:waypoint x="153" y="303" />
        <di:waypoint x="189" y="303" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1au9qks_di" bpmnElement="SequenceFlow_1au9qks">
        <di:waypoint x="289" y="303" />
        <di:waypoint x="341" y="303" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1b0blgf_di" bpmnElement="Task_1p2s2gc">
        <dc:Bounds x="189" y="263" width="100" height="80" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
